---
title: API Documentation - GetUserTripsByLongestDuration
sidebar_position: 8
---

# GetUserTripsByLongestDuration

## Overview

The `GetUserTripsByLongestDuration` API endpoint retrieves user trips sorted by the longest duration. This endpoint is useful for fetching and displaying the longest trips of a user. 

## Endpoint

- **URL:** `http://localhost:3000/v1/trips/duration/longest`
- **Method:** GET
- **Authentication:** Bearer Token

## Query Parameters

| Name  | Type | Description                          |
|-------|------|--------------------------------------|
| limit | int  | The number of trips to retrieve. Default is 10. |

## Request Example

To retrieve the trips, make a GET request to the following URL:

```
GET http://localhost:3000/v1/trips/duration/longest?limit=10
```

## Authentication

This endpoint requires a Bearer Token for authentication. Below is an example of how to include the token in the request header.

### Bearer Token

```plaintext
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw
```

## Request Headers

| Header        | Value                             |
|---------------|-----------------------------------|
| Authorization | Bearer {your_token}               |

## Example Request

```curl
curl -X GET "http://localhost:3000/v1/trips/duration/longest?limit=10" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw"
```

## Response

A successful response will return JSON data. Below is an example of the response structure.

```json
{
  "trips": [
    {
      "tripId": "12345",
      "userId": "5geapagapxs",
      "startLocation": "City A",
      "endLocation": "City B",
      "duration": 240,
      "startTime": "2022-12-01T10:00:00Z",
      "endTime": "2022-12-01T14:00:00Z"
    },
    {
      "tripId": "67890",
      "userId": "5geapagapxs",
      "startLocation": "City C",
      "endLocation": "City D",
      "duration": 180,
      "startTime": "2022-12-02T10:00:00Z",
      "endTime": "2022-12-02T13:00:00Z"
    }
  ],
  "limit": 10
}
```

This response contains an array of trip objects ordered by the duration in descending order, along with the specified limit.

## Notes

- Ensure the Bearer Token is valid and not expired.
- Adjust the `limit` parameter value to retrieve the desired number of records. The default value is 10.
- Handle any possible errors in the response appropriately, such as invalid token or exceeding rate limits.

By following this documentation, you should be able to effectively use the `GetUserTripsByLongestDuration` endpoint to retrieve user trips based on their duration.
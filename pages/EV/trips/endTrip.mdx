---
name: endTrip
type: http
seq: 2
---

# End Trip API

This API endpoint is used to mark the end of a trip.

## HTTP Request

### Method

`POST`

### URL

`http://localhost:3000/v1/trips/end`

### Body Format

`JSON`

### Authentication

`Bearer Token`

## Authentication Details

```plaintext
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw
```

## Request Body

The following JSON object should be sent in the body of the POST request:

```json
{
  "id": "ulj1iq0-0w",
  "bike_id": "i6bjwk0yhu",
  "station_id": "a2m392c58f",
  "start_timestamp": "2024-09-02T07:15:00Z",
  "end_timestamp": "2024-09-02T07:50:00Z",
  "distance": 15.8,
  "duration": 35.0,
  "average_speed": 27.1,
  "path": "base64_encoded_path_data_3"
}
```

### Parameters

- `id`: Unique identifier for the trip.
- `bike_id`: Identifier for the bike used in the trip.
- `station_id`: Identifier for the station where the trip ended.
- `start_timestamp`: ISO 8601 timestamp marking the start of the trip.
- `end_timestamp`: ISO 8601 timestamp marking the end of the trip.
- `distance`: The distance traveled during the trip in kilometers.
- `duration`: The duration of the trip in minutes.
- `average_speed`: The average speed during the trip in km/h.
- `path`: The path of the trip encoded in Base64 format.

## Response

A successful request will return a status code of `200 OK` along with a JSON object confirming the trip has ended.

## Error Codes

- `401 Unauthorized`: Authentication failed, invalid or missing token.
- `400 Bad Request`: Missing or invalid parameters.
- `500 Internal Server Error`: Server encountered an unexpected condition.

Refer to the API specification for more details on error responses.
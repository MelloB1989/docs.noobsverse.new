---
name: endTrip
type: http
seq: 2
---

## endTrip API

This API is used to end a trip in the system.

### HTTP Request

**POST** `http://localhost:3000/v1/trips/end`

### Authentication

This endpoint requires a Bearer Token.

Bearer Token: 
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw
```

### Request Body

The body of the request should be in JSON format and include the following parameters:

```json
{
  "id": "ulj1iq0-0w",
  "bike_id": "i6bjwk0yhu",
  "station_id": "a2m392c58f",
  "start_timestamp": "2024-09-02T07:15:00Z",
  "end_timestamp": "2024-09-02T07:50:00Z",
  "distance": 15.8,
  "duration": 35.0,
  "average_speed": 27.1,
  "path": "base64_encoded_path_data_3"
}
```

- **id**: Unique identifier for the trip (string).
- **bike_id**: Unique identifier for the bike used in the trip (string).
- **station_id**: Unique identifier for the station where the trip ended (string).
- **start_timestamp**: ISO 8601 formatted timestamp for the start of the trip (string).
- **end_timestamp**: ISO 8601 formatted timestamp for the end of the trip (string).
- **distance**: Distance covered during the trip in kilometers (number).
- **duration**: Duration of the trip in minutes (number).
- **average_speed**: Average speed during the trip in kilometers per hour (number).
- **path**: Base64 encoded data representing the path taken during the trip (string).

### Example

#### Request

```http
POST /v1/trips/end HTTP/1.1
Host: localhost:3000
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw
Content-Type: application/json

{
  "id": "ulj1iq0-0w",
  "bike_id": "i6bjwk0yhu",
  "station_id": "a2m392c58f",
  "start_timestamp": "2024-09-02T07:15:00Z",
  "end_timestamp": "2024-09-02T07:50:00Z",
  "distance": 15.8,
  "duration": 35.0,
  "average_speed": 27.1,
  "path": "base64_encoded_path_data_3"
}
```

Note that all fields are mandatory and must be correctly formatted.
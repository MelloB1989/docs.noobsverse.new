---
title: End Trip API
---

## End Trip API

### Metadata

- **Name:** endTrip
- **Type:** HTTP
- **Sequence:** 2

### HTTP Request

- **Method:** POST
- **URL:** `http://localhost:3000/v1/trips/end`
- **Body Format:** JSON
- **Authentication:** Bearer Token

### Authentication

Ensure to include the following bearer token in the authorization header:

```plaintext
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw
```

### Request Body

Provide the trip details in the JSON format:

```json
{
    "id": "ulj1iq0-0w",
    "bike_id": "i6bjwk0yhu",
    "station_id": "a2m392c58f",
    "start_timestamp": "2024-09-02T07:15:00Z",
    "end_timestamp": "2024-09-02T07:50:00Z",
    "distance": 15.8,
    "duration": 35.0,
    "average_speed": 27.1,
    "path": "base64_encoded_path_data_3"
}
```

### Example CURL Command

Example of how to end a trip using CURL:

```bash
curl -X POST http://localhost:3000/v1/trips/end \
     -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw" \
     -H "Content-Type: application/json" \
     -d '{
         "id": "ulj1iq0-0w",
         "bike_id": "i6bjwk0yhu",
         "station_id": "a2m392c58f",
         "start_timestamp": "2024-09-02T07:15:00Z",
         "end_timestamp": "2024-09-02T07:50:00Z",
         "distance": 15.8,
         "duration": 35.0,
         "average_speed": 27.1,
         "path": "base64_encoded_path_data_3"
     }'
```

### Response

The endpoint will return a JSON response indicating the success or failure of the trip termination request. 

---

Ensure to replace the `base64_encoded_path_data_3` with your actual encoded path data. This API endpoint is used to mark the end of a trip for bike-sharing services.
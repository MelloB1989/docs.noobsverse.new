---
name: endTrip
type: http
sequence: 2
---

# End Trip API

The `endTrip` API allows the client to mark the end of a trip. This endpoint is part of the trip management system.

## Endpoint

### HTTP Method

`POST`

### URL

```
http://localhost:3000/v1/trips/end
```

### Authentication

This endpoint requires Bearer Token authentication.

#### Bearer Token

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwaG9uZSI6Iis5MTk4MTI5NDA3MDYiLCJ1aWQiOiI1Z2VhcGdhcHhzIn0.yNyKfoOQouzSNDwp_5rJ9CAEMVJo5uqueJHNpG-a3Aw
```

Ensure that the token is included in the `Authorization` header of the request:

```
Authorization: Bearer <token>
```

## Request Body

The request body must be in JSON format. Below is the structure expected by the API:

```json
{
  "id": "ulj1iq0-0w",
  "bike_id": "i6bjwk0yhu",
  "station_id": "a2m392c58f",
  "start_timestamp": "2024-09-02T07:15:00Z",
  "end_timestamp": "2024-09-02T07:50:00Z",
  "distance": 15.8,
  "duration": 35.0,
  "average_speed": 27.1,
  "path": "base64_encoded_path_data_3"
}
```

### Field Descriptions

- **id**: The unique identifier of the trip.
- **bike_id**: The identifier of the bike used during the trip.
- **station_id**: The identifier of the station where the trip ended.
- **start_timestamp**: The UTC timestamp indicating when the trip started.
- **end_timestamp**: The UTC timestamp indicating when the trip ended.
- **distance**: The total distance covered during the trip, measured in kilometers.
- **duration**: The total duration of the trip in minutes.
- **average_speed**: The average speed during the trip, measured in kilometers per hour.
- **path**: A base64 encoded string representing the path of the trip.

This API is designed to provide a seamless experience in monitoring and managing trip completions. Ensure that all required fields are populated correctly to avoid errors.